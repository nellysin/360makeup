{% extends 'site360/base.html' %}
<html>
 {% block content %}
<head>

  <title>{{ username }}'s Profile</title>
<!--stylesheet-->
 <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

  </head>
<style>
   #imageUpload
{
    display: none;
}
#profileImage
{
    cursor: pointer;
}

 body {
  text-align:center;
 }
#profile-container {
    width: 150px;
    height: 150px;
    overflow: hidden;
    -webkit-border-radius: 50%;
    -moz-border-radius: 50%;
    -ms-border-radius: 50%;
    -o-border-radius: 50%;
    border-radius: 50%;
 }
#profile-container img {
    width: 150px;
    height: 150px;
}
  </style>
  <body>

      <h2>{{ username }}'s Profile</h2>


<!--
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div id="profile-container">
   <image id="profileImage" src="http://www.gibbahouse.com/wp-content/uploads/2014/12/Funny-Animals-With-Makeup_2.jpg" />
</div>
<input id="imageUpload" type="file"
       name="profile_photo" placeholder="Photo" required="" capture>
-->
<br>
<br>

<h3>Change profile picture</h3>

<img src="{{ picture_url }}" alt="{{ username }}'s profile picture" id="profile-container">
<br>
<br>
{% if user.is_authenticated and user.username == username %}
  <form method="POST" class="post-form">{% csrf_token %}
    {{ form.as_p }}
    <button type="submit" style="font-family:Lobster Two; color:#FF69B4;" class="save btn btn-default">Save</button>
  </form>
{% endif %}

<br>
<br>

 <div class="w3-container">
  <h3  style="font-family:Lobster Two;color:#ff4d88;">Favorites</h3>

{% for favorite in favorites %}
  <img src="{{ favorite.product.image_url }}" alt="A picture of {{ favorite.product.name }}" width=10% height=10%>
  <p><a href="/product/{{ favorite.product.name_to_url }}">{{ favorite.product.name }}</a></p>
{% endfor %}

<br>

<script type= "text/javascript">
         $("#profileImage").click(function(e) {
    $("#imageUpload").click();
});
function fasterPreview( uploader ) {
    if ( uploader.files && uploader.files[0] ){
          $('#profileImage').attr('src',
             window.URL.createObjectURL(uploader.files[0]) );
    }
}
$("#imageUpload").change(function(){
    fasterPreview( this );
});
</script>
 </body>
  {% endblock %}
</html>
